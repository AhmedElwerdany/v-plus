(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ca63bb08"],{"0fd9":function(t,e,a){"use strict";var n=a("ade3"),r=a("5530"),s=(a("d3b7"),a("caad"),a("2532"),a("99af"),a("b64b"),a("ac1f"),a("5319"),a("4ec9"),a("3ca3"),a("ddb0"),a("159b"),a("4b85"),a("2b0e")),o=a("d9f7"),i=a("80d2"),c=["sm","md","lg","xl"],l=["start","end","center"];function u(t,e){return c.reduce((function(a,n){return a[t+Object(i["I"])(n)]=e(),a}),{})}var d=function(t){return[].concat(l,["baseline","stretch"]).includes(t)},m=u("align",(function(){return{type:String,default:null,validator:d}})),f=function(t){return[].concat(l,["space-between","space-around"]).includes(t)},v=u("justify",(function(){return{type:String,default:null,validator:f}})),b=function(t){return[].concat(l,["space-between","space-around","stretch"]).includes(t)},h=u("alignContent",(function(){return{type:String,default:null,validator:b}})),p={align:Object.keys(m),justify:Object.keys(v),alignContent:Object.keys(h)},g={align:"align",justify:"justify",alignContent:"align-content"};function x(t,e,a){var n=g[t];if(null!=a){if(e){var r=e.replace(t,"");n+="-".concat(r)}return n+="-".concat(a),n.toLowerCase()}}var _=new Map;e["a"]=s["a"].extend({name:"v-row",functional:!0,props:Object(r["a"])(Object(r["a"])(Object(r["a"])({tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:d}},m),{},{justify:{type:String,default:null,validator:f}},v),{},{alignContent:{type:String,default:null,validator:b}},h),render:function(t,e){var a=e.props,r=e.data,s=e.children,i="";for(var c in a)i+=String(a[c]);var l=_.get(i);return l||function(){var t,e;for(e in l=[],p)p[e].forEach((function(t){var n=a[t],r=x(e,t,n);r&&l.push(r)}));l.push((t={"no-gutters":a.noGutters,"row--dense":a.dense},Object(n["a"])(t,"align-".concat(a.align),a.align),Object(n["a"])(t,"justify-".concat(a.justify),a.justify),Object(n["a"])(t,"align-content-".concat(a.alignContent),a.alignContent),t)),_.set(i,l)}(),t(a.tag,Object(o["a"])(r,{staticClass:"row",class:l}),s)}})},"756c":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{id:"regular-tables",fluid:"",tag:"section"}},[a("v-card",[a("v-card-title",[t._v(" فرز ")]),a("v-card-text",{staticClass:"pt-3"},[a("label",[t._v(" فرز حسب التاريخ و حالة المعاملة")]),a("v-row",{staticClass:"pt-3"},[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,r=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"تاريخ البدء","prepend-icon":"mdi-calendar",readonly:"",outlined:""},model:{value:t.search.start_date,callback:function(e){t.$set(t.search,"start_date",e)},expression:"search.start_date"}},"v-text-field",r,!1),n))]}}]),model:{value:t.start_date,callback:function(e){t.start_date=e},expression:"start_date"}},[a("v-date-picker",{on:{input:function(e){t.start_date=!1}},model:{value:t.search.start_date,callback:function(e){t.$set(t.search,"start_date",e)},expression:"search.start_date"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,r=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"تاريخ الانتهاء","prepend-icon":"mdi-calendar",readonly:"",outlined:""},model:{value:t.search.end_date,callback:function(e){t.$set(t.search,"end_date",e)},expression:"search.end_date"}},"v-text-field",r,!1),n))]}}]),model:{value:t.end_date,callback:function(e){t.end_date=e},expression:"end_date"}},[a("v-date-picker",{on:{input:function(e){t.end_date=!1}},model:{value:t.search.end_date,callback:function(e){t.$set(t.search,"end_date",e)},expression:"search.end_date"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{staticClass:"mx-2",attrs:{items:t.statusList,"item-text":"name","item-value":"id",label:"الحالة",outlined:"",required:"",chips:""},model:{value:t.search.status,callback:function(e){t.$set(t.search,"status",e)},expression:"search.status"}})],1)],1),a("label",[t._v("فرز حسب المستخدمين والعملاء")]),a("v-row",{staticClass:"pt-3"},[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-select",{staticClass:"mx-2",attrs:{items:t.usersList,"item-text":"name","item-value":"id",label:"المستخدمين",outlined:"",required:"",multiple:"",chips:""},model:{value:t.search.users_id,callback:function(e){t.$set(t.search,"users_id",e)},expression:"search.users_id"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-select",{staticClass:"mx-2",attrs:{items:t.customersList,"item-text":"cs_name","item-value":"id",label:"العملاء",outlined:"",required:"",multiple:"",chips:""},model:{value:t.search.customers_id,callback:function(e){t.$set(t.search,"customers_id",e)},expression:"search.customers_id"}})],1)],1),a("label",[t._v("فرز حسب المناطق والمدن والاحياء")]),a("v-row",{staticClass:"pt-3"},[a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-select",{staticClass:"mx-2",attrs:{items:t.regionList,"item-text":"name","item-value":"id",label:"المنطقة",outlined:"",required:""},model:{value:t.search.region_id,callback:function(e){t.$set(t.search,"region_id",e)},expression:"search.region_id"}})],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-select",{staticClass:"mx-2",attrs:{items:t.cityList.filter((function(e){return e.regionId===t.search.region_id})),"item-text":"name","item-value":"id",label:"المدينة",outlined:"",required:""},model:{value:t.search.city_id,callback:function(e){t.$set(t.search,"city_id",e)},expression:"search.city_id"}})],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-select",{staticClass:"mx-2",attrs:{items:t.neighborhoodList.filter((function(e){return e.city_id===t.search.city_id})),"item-text":"name","item-value":"id",label:"الحي",outlined:"",required:""},model:{value:t.search.neighborhood_id,callback:function(e){t.$set(t.search,"neighborhood_id",e)},expression:"search.neighborhood_id"}})],1)],1)],1),a("v-card-actions",[a("v-btn",{attrs:{color:"green"},on:{click:function(e){return t.fetchAllItems()}}},[t._v(" فرز ")])],1)],1),a("v-card",[a("v-card-title",[t._v(" تقرير المستخدمين "),a("v-spacer"),a("v-btn",{staticClass:"mx-1 my-auto",attrs:{color:"green",loading:t.loading,disabled:t.disabled},on:{click:function(e){return t.exportExel()}}},[t._v(" تنزيل اكسيل ")])],1),a("v-data-table",{attrs:{loading:t.dataLoading,headers:t.headers,items:t.items,"items-per-page":20,"footer-props":{"items-per-page-options":[10,20,30,40,50]},"fixed-header":t.fixedHeader,height:"500px",options:t.options,"server-items-length":t.total,"page-count":t.numberOfPages},on:{"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"item.name",fn:function(e){var n=e.item;return[a("router-link",{attrs:{to:"/reports/userReportById/"+n.id}},[t._v(" "+t._s(n.name)+" ")])]}},{key:"no-data",fn:function(){return[a("p",[t._v("لا يوجد بيانات")])]},proxy:!0}],null,!0)})],1),a("v-snackbar",{attrs:{color:"success",shaped:"",bottom:"",left:"",timeout:t.timeout},model:{value:t.successSnackbar,callback:function(e){t.successSnackbar=e},expression:"successSnackbar"}},[t._v(" "+t._s(t.successMessage)+" ")]),a("v-snackbar",{attrs:{color:"red",shaped:"",bottom:"",left:"",timeout:t.timeout},model:{value:t.errorSnackbar,callback:function(e){t.errorSnackbar=e},expression:"errorSnackbar"}},[t._v(" "+t._s(t.errorMessage)+" ")])],1)},r=[],s=a("1da1"),o=(a("96cf"),a("ac1f"),a("841c"),a("d81d"),a("b0c0"),a("d3b7"),a("159b"),a("fb6a"),a("a9e3"),a("3ca3"),a("ddb0"),a("07ac"),a("0ad7")),i=o["a"].get("usersReport"),c=o["a"].get("Users"),l=o["a"].get("Customers"),u=o["a"].get("Regions"),d=o["a"].get("Cites"),m=o["a"].get("Neighborhoods"),f={name:"UsersReports",data:function(t){return{search:{start_date:"",end_date:"",status:null,users_id:[],customers_id:[],region_id:null,city_id:null,neighborhood_id:null},start_date:!1,end_date:!1,usersList:[],customersList:[],regionList:[],cityList:[],neighborhoodList:[],statusList:[{id:1,name:"مسودة"},{id:2,name:"تحت التقييم"},{id:3,name:"تحت المراجعة"},{id:4,name:"قيد الاعتماد"},{id:5,name:"معتمدة"},{id:6,name:"مرسلة"},{id:7,name:"معلقة"},{id:8,name:"ملغية"}],permissions:{},fixedHeader:!0,dataLoading:!1,page:0,total:0,numberOfPages:0,options:{},items:[],testTotal:0,loading:!1,viewMoreDailog:!1,userDetails:{},editedIndex:-1,successSnackbar:!1,errorSnackbar:!1,timeout:3e3,successMessage:"",errorMessage:"",disabled:!1,headers:[{text:"المستخدم",sortable:!0,value:"name"},{text:"يناير",sortable:!0,value:"Jan.total"},{text:"فبراير",sortable:!0,value:"Feb.total"},{text:"مارس",sortable:!0,value:"Mar.total"},{text:"ابريل",sortable:!0,value:"Apr.total"},{text:"مايو",sortable:!0,value:"May.total"},{text:"يونيو",sortable:!0,value:"Jun.total"},{text:"يوليو",sortable:!0,value:"Jul.total"},{text:"اغسطس",sortable:!0,value:"Aug.total"},{text:"سبتمبر",sortable:!0,value:"Sep.total"},{text:"اكتوبر",sortable:!0,value:"Oct.total"},{text:"نوفمبر",sortable:!0,value:"Nov.total"},{text:"ديسمبر",sortable:!0,value:"Dec.total"},{text:"الاجمالي",value:"totalYear",sortable:!0}],filename:"تقرير المستخدمين",bookType:"xlsx",autoWidth:!0}},watch:{options:{handler:function(){this.fetchAllItems()}}},created:function(){this.fetchAllUsers(),this.fetchAllCustomers(),this.getRegions(),this.getCities(),this.getNeighborhood()},mounted:function(){this.permissions=this.can("تقرير المستخدمين")},methods:{fetchAllItems:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,n,r,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.dataLoading=!0,a=t.options,n=a.page,r=a.itemsPerPage,s=n-1,e.next=5,i.getAllItems(r,n,s,t.search);case 5:o=e.sent,t.items=o.data.data.map((function(t){var e={name:t.name,id:t.id,totalYear:t.months.reduce((function(t,e){return t+(+e.total+ +e.total_other)}),0)};return t.months.forEach((function(t){var a=t.month_name.slice(0,3);e[a]={},e[a].total=Number(t.total+t.total_other)})),e})),t.total=o.total,t.dataLoading=!1;case 9:case"end":return e.stop()}}),e)})))()},exportExel:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.loading=!0,a.e("chunk-44c2b91e").then(a.bind(null,"4bf8")).then((function(e){var a=["اسم المستخدم","يناير","فبراير","مارس","ابريل","مايو","يونيو","يوليو","اغسطس","سبتمبر","اكتوبر","نوفمبر","ديسمبر","الاجمالى"],n=t.items.map((function(t){return{name:t.name,Jan:t.Jan.total,Feb:t.Feb.total,Mar:t.Mar.total,Apr:t.Apr.total,May:t.May.total,Jun:t.Jun.total,Jul:t.Jul.total,Aug:t.Aug.total,Sep:t.Sep.total,Oct:t.Oct.total,Nov:t.Nov.total,Dec:t.Dec.total,totalYear:t.totalYear}})),r=t.formatJson(n);e.export_json_to_excel({header:a,data:r,filename:t.filename,autoWidth:t.autoWidth,bookType:t.bookType}),t.loading=!1}));case 2:case"end":return e.stop()}}),e)})))()},formatJson:function(t){return t.map((function(t){return Object.values(t)}))},fetchAllUsers:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.dataLoading=!0,e.next=3,c.getAllItems();case 3:a=e.sent,t.usersList=a.data.data,t.total=a.total,t.dataLoading=!1;case 7:case"end":return e.stop()}}),e)})))()},fetchAllCustomers:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l.getAllItems();case 2:a=e.sent,console.log("customers :>> ",a),t.customersList=a.data.data,t.total=a.total;case 6:case"end":return e.stop()}}),e)})))()},getRegions:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u.getAllItems();case 2:a=e.sent,n=a.data,t.regionList=n.data.map((function(t){var e=t.id,a=t.name;return{id:e,name:a}}));case 5:case"end":return e.stop()}}),e)})))()},getCities:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d.getAllItems();case 2:a=e.sent,n=a.data,console.log("data :>> ",n),t.cityList=n.data.map((function(t){return{name:t.name,id:t.id,regionId:t.region_id}}));case 6:case"end":return e.stop()}}),e)})))()},getNeighborhood:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m.getAllItems();case 2:a=e.sent,t.neighborhoodList=a.data.data;case 4:case"end":return e.stop()}}),e)})))()}}},v=f,b=(a("bb0b"),a("2877")),h=a("6544"),p=a.n(h),g=a("8336"),x=a("b0af"),_=a("99d9"),k=a("62ad"),y=a("a523"),w=a("8fea"),C=a("2e4b"),j=a("e449"),O=a("0fd9"),S=a("b974"),L=a("2db4"),R=a("2fa4"),A=a("8654"),V=Object(b["a"])(v,n,r,!1,null,null,null);e["default"]=V.exports;p()(V,{VBtn:g["a"],VCard:x["a"],VCardActions:_["a"],VCardText:_["b"],VCardTitle:_["c"],VCol:k["a"],VContainer:y["a"],VDataTable:w["a"],VDatePicker:C["a"],VMenu:j["a"],VRow:O["a"],VSelect:S["a"],VSnackbar:L["a"],VSpacer:R["a"],VTextField:A["a"]})},"9edd":function(t,e,a){},bb0b:function(t,e,a){"use strict";a("9edd")}}]);
//# sourceMappingURL=chunk-ca63bb08.a86c404c.js.map